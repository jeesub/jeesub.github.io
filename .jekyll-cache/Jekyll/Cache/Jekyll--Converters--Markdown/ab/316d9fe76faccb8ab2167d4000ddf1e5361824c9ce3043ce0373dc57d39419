I"Õ<p>Rails testë¥¼ í•˜ë‹¤ë³´ë©´, session ìƒíƒœì— ë”°ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼í•  ê²½ìš°ê°€ ë§ë‹¤.
deviseì—ì„œëŠ” ì´ë¥¼ ìœ„í•œ helperë¥¼ ì œê³µí•œë‹¤.
ê³µì‹ë¬¸ì„œë¥¼ ì°¸ê³ í–ˆì§€ë§Œ, ë‹¤ì–‘í•œ ê²½ìš°ì— ëŒ€í•œ ë¬¸ì„œëŠ” ì—†ì–´ì„œ ì¡°ê¸ˆ ì• ë¥¼ ë¨¹ì—ˆë‹¤.</p>

<h1 id="include-ì„¤ì •">include ì„¤ì •</h1>

<p>controller testì— ë„£ì–´ë„ ë˜ì§€ë§Œ, ê±°ì˜ ëª¨ë“  controller testì— ì“°ì´ê¸° ë•Œë¬¸ì— test_helperì— ë„£ì–´ì£¼ì—ˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># /test/test_helper.rb</span>
<span class="kp">include</span> <span class="no">Devise</span><span class="o">::</span><span class="no">Test</span><span class="o">::</span><span class="no">IntegrationHelpers</span></code></pre></figure>

<h1 id="controller-test-ì„¤ì •">controller test ì„¤ì •</h1>

<p>ê°ê°ì˜ test.rb íŒŒì¼ì—ì„œ ë¡œê·¸ì¸ ë˜ì—ˆì„ ê²½ìš°ë¥¼ ì„¤ì •í•´ì£¼ì—ˆë‹¤. 
ì—¬ëŸ¬ ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, scopeì„ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">setup</span> <span class="k">do</span>
  <span class="n">sign_in</span> <span class="n">users</span><span class="p">(</span><span class="ss">:duck</span><span class="p">),</span> <span class="ss">scope: :user</span>
<span class="k">end</span></code></pre></figure>

<h1 id="fixture-ì„¤ì •">fixture ì„¤ì •</h1>

<p>ê³µì‹ ë¬¸ì„œì—ì„œ ì°¾ê¸° í˜ë“  ë¶€ë¶„ì´ fixture ì„¤ì •ì´ì—ˆë‹¤. 
ë³¸ì¸ì˜ modelì— ë§ê²Œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤. 
confirmationì„ ì‚¬ìš©í•  ê²½ìš°, confirmed_atì„ ê¼­ ë„£ì–´ì¤˜ì•¼ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="ss">duck:
  name: </span><span class="n">duck</span>
  <span class="ss">email: </span><span class="n">duck</span><span class="vi">@duck</span><span class="p">.</span><span class="nf">com</span>
  <span class="ss">encrypted_password: </span><span class="o">&lt;</span><span class="sx">%= Devise::Encryptor.digest(User, '1234567890') %&gt;
  confirmed_at: &lt;%=</span> <span class="no">Time</span><span class="p">.</span><span class="nf">zone</span><span class="p">.</span><span class="nf">now</span> <span class="sx">%&gt;</span></code></pre></figure>
:ET